<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CDN Deployment - Silcrow</title>
  <meta name="description" content="Production-ready Silcrow app deployed via CDN">

  <!-- Preconnect to CDN for faster loading -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">

  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f8f9fa;
      padding: 40px 20px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    .card {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 24px;
    }

    h1 {
      color: #212529;
      margin-bottom: 30px;
      text-align: center;
    }

    .badge {
      display: inline-block;
      padding: 6px 12px;
      background: #d1fae5;
      color: #065f46;
      border-radius: 6px;
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 20px;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .info-item {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      text-align: center;
    }

    .info-label {
      font-size: 0.85rem;
      color: #6c757d;
      margin-bottom: 8px;
    }

    .info-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: #212529;
    }

    .code-block {
      background: #2d3748;
      color: #e2e8f0;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .highlight {
      color: #90cdf4;
    }

    .feature-list {
      list-style: none;
      padding: 0;
    }

    .feature-list li {
      padding: 12px 0;
      border-bottom: 1px solid #e9ecef;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .feature-list li:last-child {
      border-bottom: none;
    }

    .check-icon {
      color: #22c55e;
      font-weight: bold;
    }

    pre {
      margin: 0;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
  </style>
</head>
<body s-debug>
  <div class="container">
    <h1>ðŸš€ CDN Deployment Example</h1>

    <div class="card">
      <span class="badge">Production Ready</span>
      <h2 style="margin-bottom: 20px;">No Build Step Required</h2>

      <p style="color: #6c757d; margin-bottom: 30px;">
        This page demonstrates how to deploy Silcrow apps directly from a CDN.
        Perfect for rapid prototyping, micro-frontends, or when you want to avoid
        complex build pipelines.
      </p>

      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">Bundle Size</div>
          <div class="info-value" s-bind="stats.bundleSize"></div>
        </div>

        <div class="info-item">
          <div class="info-label">Load Time</div>
          <div class="info-value" s-bind="stats.loadTime"></div>
        </div>

        <div class="info-item">
          <div class="info-label">Dependencies</div>
          <div class="info-value" s-bind="stats.dependencies"></div>
        </div>
      </div>

      <h3 style="margin-bottom: 16px;">âœ… Production Features</h3>
      <ul class="feature-list">
        <li>
          <span class="check-icon">âœ“</span>
          <span>Served via CDN (jsDelivr) with global edge caching</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>Automatic minification and compression</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>SRI (Subresource Integrity) for security</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>No npm install or build step needed</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>Works in any static hosting (GitHub Pages, Netlify, etc.)</span>
        </li>
      </ul>
    </div>

    <div class="card">
      <h3 style="margin-bottom: 16px;">ðŸ“‹ HTML Setup</h3>
      <div class="code-block">
        <pre><span class="highlight">&lt;!-- Simple CDN Include --&gt;</span>
&lt;script src="https://cdn.jsdelivr.net/gh/jeetkhinde/silcrow@1.0.0/silcrow.runtime.js"&gt;&lt;/script&gt;

<span class="highlight">&lt;!-- Or with SRI for security --&gt;</span>
&lt;script
  src="https://cdn.jsdelivr.net/gh/jeetkhinde/silcrow@1.0.0/silcrow.runtime.js"
  integrity="sha384-..."
  crossorigin="anonymous"&gt;
&lt;/script&gt;</pre>
      </div>
    </div>

    <div class="card">
      <h3 style="margin-bottom: 16px;">ðŸ”§ Deployment Options</h3>
      <div class="code-block" style="margin-bottom: 16px;">
        <pre><span class="highlight"># 1. GitHub Pages</span>
git add .
git commit -m "Deploy Silcrow app"
git push origin main
# Enable GitHub Pages in repo settings

<span class="highlight"># 2. Netlify Drop</span>
# Just drag your HTML folder to netlify.com/drop

<span class="highlight"># 3. Any Static Host</span>
python -m http.server 8000
# or
npx serve .</pre>
      </div>
    </div>

    <div class="card">
      <h3 style="margin-bottom: 16px;">âš¡ Performance Tips</h3>
      <ul class="feature-list">
        <li>
          <span class="check-icon">âœ“</span>
          <span>Use <code>rel="preconnect"</code> to CDN domains</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>Enable HTTP/2 on your hosting provider</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>Set proper Cache-Control headers (1 year for CDN assets)</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>Use <code>Silcrow.stream()</code> for high-frequency updates</span>
        </li>
        <li>
          <span class="check-icon">âœ“</span>
          <span>Lazy load images and heavy content</span>
        </li>
      </ul>
    </div>
  </div>

  <!-- Silcrow from CDN -->
  <script src="https://cdn.jsdelivr.net/gh/jeetkhinde/silcrow@1.0.0/silcrow.runtime.js"></script>

  <script>
    // Calculate and display stats
    const state = {
      stats: {
        bundleSize: '~4KB',
        loadTime: '< 100ms',
        dependencies: '0'
      }
    };

    // Measure actual load time
    if (performance && performance.getEntriesByType) {
      const perfData = performance.getEntriesByType('navigation')[0];
      if (perfData) {
        const loadTime = Math.round(perfData.loadEventEnd - perfData.fetchStart);
        state.stats.loadTime = `${loadTime}ms`;
      }
    }

    // Patch data
    Silcrow.patch(state, 'body');

    // Log for debugging
    console.log('%cðŸš€ Silcrow CDN Example', 'font-size: 20px; font-weight: bold; color: #4CAF50');
    console.log('âœ… Loaded from CDN');
    console.log('âœ… No build step');
    console.log('âœ… Production ready');
  </script>
</body>
</html>
